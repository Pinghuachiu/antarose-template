# Claude Code 開發工作流程指南

## 概述

本文檔描述了 Claude Code 項目的標準開發工作流程。該流程基於敏捷開發原則，結合了產品管理、項目管理和技術實現的最佳實踐。

## 完整開發流程

### 選擇一：從頭開始（沒有需求文檔）
1. 項目初始化 (/pinit)
2. 產品需求分析 (/pda) - 生成需求文檔
3. 項目管理分析 (/pma) - 分析需求文檔
4. 項目管理計劃 (/pmp) - 制定執行計劃
5. 任務執行 (/exetask) - 執行開發任務

### 選擇二：已有需求文檔
1. 項目初始化 (/pinit)
2. 項目管理分析 (/pma) - 分析現有需求文檔
3. 項目管理計劃 (/pmp) - 制定執行計劃
4. 任務執行 (/exetask) - 執行開發任務

## 詳細流程說明

### 項目初始化階段
- 建立標準目錄結構
- 初始化版本控制系統
- 設置開發環境
- 創建文檔模板

### 需求分析階段（僅適用於選擇一）
- 市場和競爭分析
- 用戶需求調研
- 功能需求定義
- 技術可行性評估
- 生成需求文檔 (./tasks/req.md)

### 計劃制定階段
- 讀取需求文檔 (./tasks/req.md)
- 任務分解和分配
- 技術架構設計
- 風險識別和緩解
- 資源和時間規劃
- 生成項目開發計劃 (./tasks/prd.md)

### 執行階段
- 讀取項目開發計劃 (./tasks/prd.md)
- 並行開發
- 持續集成
- 自動化測試
- 進度跟蹤

### 驗證階段
- 功能測試
- 性能測試
- 用戶驗收測試
- 部署準備

## 版本控制策略

### GitFlow 工作流程
1. `develop` - 主開發分支
2. `feature/issue_xxx` - 功能開發分支
3. `release/x.x.x` - 發布準備分支
4. `hotfix/xxx` - 緊急修復分支
5. `main` - 生產環境分支

### 提交規範
- 每次功能完成都要 commit
- 提交信息要清晰描述變更內容
- 遵循 conventional commits 規範

## 並行開發機制

### 任務分配原則
- 根據技能專長分配任務
- 考慮任務依賴關係
- 最大化並行效率
- 確保負載均衡

### 協作機制
- 定期同步進度
- 及時溝通阻塞問題
- 代碼審查制度
- 知識分享會議

## 質量保證

### 代碼質量
- 代碼審查
- 單元測試覆蓋率 > 80%
- 集成測試
- 靜態代碼分析

### 測試策略
- 自動化測試為主
- 手動測試為輔
- 持續測試集成
- 測試報告生成

## 部署流程

### 持續集成
- 代碼提交自動觸發
- 自動化構建和測試
- 質量門禁檢查
- 部署包生成

### 持續部署
- 多環境部署支持
- 藍綠部署策略
- 回滾機制
- 監控和告警

## 最佳實踐

### 開發實踐
1. 遵循 SOLID 原則
2. 編寫清晰的文檔
3. 保持代碼簡潔
4. 及時重構技術債務

### 團隊協作
1. 每日站會
2. 迭代回顧
3. 知識分享
4. 持續改進

### 風險管理
1. 早期識別風險
2. 制定緩解措施
3. 定期風險評估
4. 應急預案準備

## 常見問題和解決方案

### 流程問題
- **問題**：任務依賴導致阻塞
  **解決方案**：重新評估任務優先級，調整開發順序

- **問題**：需求變更頻繁
  **解決方案**：建立變更控制流程，評估影響範圍

### 技術問題
- **問題**：技術債務累積
  **解決方案**：安排專門時間進行重構，建立技術債務跟踪機制

- **問題**：性能瓶頸
  **解決方案**：建立性能基線，定期性能測試

## 附錄

### 命令參考
- `/pinit` - 初始化項目
- `/pda` - 產品需求分析（僅在沒有需求文檔時使用）
- `/pma` - 項目管理分析
- `/pmp` - 項目管理計劃
- `/exetask` - 執行任務

### 模板文件
- 需求文檔模板
- PRD 模板
- 技術設計文檔模板
- 測試計劃模板